{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/drafts/./node_modules/dayjs/dayjs.min.js","webpack://@fof/drafts/external assign \"flarum.extensions['fof-byobu']\"","webpack://@fof/drafts/webpack/bootstrap","webpack://@fof/drafts/webpack/runtime/compat get default export","webpack://@fof/drafts/webpack/runtime/define property getters","webpack://@fof/drafts/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/drafts/webpack/runtime/make namespace object","webpack://@fof/drafts/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/models/User']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/drafts/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/drafts/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/drafts/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@fof/drafts/./src/forum/utils/fillRelationship.js","webpack://@fof/drafts/./src/forum/models/Draft.js","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Page']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/utils/string']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@fof/drafts/./src/forum/components/DraftsListItem.tsx","webpack://@fof/drafts/./src/forum/components/DraftsList.js","webpack://@fof/drafts/./src/forum/components/DraftsPage.js","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/HeaderSecondary']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/NotificationsDropdown']\"","webpack://@fof/drafts/./src/forum/components/DraftsDropdown.js","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/SettingsPage']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@fof/drafts/external root \"flarum.core.compat['forum/components/Composer']\"","webpack://@fof/drafts/external root \"flarum.core.compat['forum/components/DiscussionComposer']\"","webpack://@fof/drafts/external root \"flarum.core.compat['forum/components/ReplyComposer']\"","webpack://@fof/drafts/external root \"flarum.core.compat['forum/states/ComposerState']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@fof/drafts/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/drafts/./src/forum/components/ScheduleDraftModal.js","webpack://@fof/drafts/./src/forum/states/DraftsListState.js","webpack://@fof/drafts/./src/forum/utils/deepEqual.js","webpack://@fof/drafts/./src/forum/components/index.js","webpack://@fof/drafts/./src/forum/models/index.js","webpack://@fof/drafts/./src/forum/states/index.js","webpack://@fof/drafts/./src/forum/utils/index.js","webpack://@fof/drafts/./src/forum/index.js","webpack://@fof/drafts/./src/forum/addDraftsDropdown.js","webpack://@fof/drafts/./src/forum/addPreferences.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","module.exports = flarum.extensions['fof-byobu'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/mixin'];","export default (data, map) => (Array.isArray(data) ? data.map(map).sort() : map(data));\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport mixin from 'flarum/common/utils/mixin';\nimport fillRelationship from '../utils/fillRelationship';\n\nexport default class Draft extends mixin(Model, {\n  user: Model.hasOne('user'),\n  content: Model.attribute('content'),\n  title: Model.attribute('title'),\n  scheduledValidationError: Model.attribute('scheduledValidationError'),\n  relationships: Model.attribute('relationships'),\n  extra: Model.attribute('extra'),\n  scheduledFor: Model.attribute('scheduledFor', Model.transformDate),\n  updatedAt: Model.attribute('updatedAt', Model.transformDate),\n\n  loadedRelationships: null,\n\n  type() {\n    const relationships = this.loadRelationships();\n    if (relationships.discussion) {\n      return 'reply';\n    } else if (\n      flarum.extensions['fof-byobu'] &&\n      flarum.extensions['fof-byobu'].discussions && // If private discussion composer is not exported, we can't support PM drafts.\n      ('recipientGroups' in relationships || 'recipientUsers' in relationships)\n    ) {\n      return 'privateDiscussion';\n    } else {\n      return 'discussion';\n    }\n  },\n\n  icon() {\n    switch (this.type()) {\n      case 'discussion':\n        return 'fas fa-edit';\n      case 'reply':\n        return 'fas fa-reply';\n      case 'privateDiscussion':\n        const customIcon = app.forum.data.attributes['byobu.icon-badge'];\n        return customIcon ? customIcon : 'fas fa-eye-slash';\n    }\n  },\n\n  loadRelationships(force) {\n    if (\n      !force &&\n      this.loadedRelationships &&\n      (Object.keys(this.loadedRelationships).length > 0 ||\n        (Object.keys(this.loadedRelationships).length === 0 && Object.keys(this.relationships).length === 0))\n    ) {\n      return this.loadedRelationships;\n    }\n\n    this.loadedRelationships = {};\n\n    const relationships = this.relationships();\n\n    if (relationships) {\n      Object.keys(relationships).forEach((relationshipName) => {\n        const relationship = relationships[relationshipName];\n\n        if (!relationship || !relationship.data) return;\n\n        this.loadedRelationships[relationshipName] = fillRelationship(relationship.data, (model) => app.store.getById(model.type, model.id));\n      });\n    }\n\n    if ('recipientUsers' in this.loadedRelationships || 'recipientGroups' in this.loadedRelationships) {\n      const recipients = new ItemList();\n\n      (this.loadedRelationships['recipientUsers'] || []).forEach((user) => {\n        if (user) recipients.add('users:' + user.id(), user);\n      });\n      (this.loadedRelationships['recipientGroups'] || []).forEach((group) => {\n        if (group) recipients.add('groups:' + group.id(), group);\n      });\n\n      this.loadedRelationships['recipients'] = recipients;\n    }\n\n    return this.loadedRelationships;\n  },\n\n  compileData() {\n    const data = {\n      originalContent: this.content(),\n      title: this.title(),\n      user: app.session.user,\n      confirmExit: app.translator.trans('fof-drafts.forum.composer.exit_alert'),\n      draft: this,\n      fields: Object.assign({}, this.loadRelationships(), this.extra()),\n    };\n\n    Object.assign(data, data.fields);\n\n    return data;\n  },\n}) {}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/string'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport avatar from 'flarum/common/helpers/avatar';\nimport icon from 'flarum/common/helpers/icon';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport { truncate } from 'flarum/common/utils/string';\nimport Button from 'flarum/common/components/Button';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport dayjs from 'dayjs';\n\nimport type Mithril from 'mithril';\nimport Draft from '../models/Draft';\nimport DraftsListState from '../states/DraftsListState';\n\nexport interface IAttrs {\n  draft: Draft;\n  state: DraftsListState;\n}\n\nexport default class DraftsListItem extends Component<IAttrs> {\n  private canSchedule: boolean = app.forum.attribute<boolean>('canScheduleDrafts') && app.forum.attribute<boolean>('drafts.enableScheduledDrafts');\n\n  oncreate(vnode: Mithril.Vnode) {\n    super.oncreate(vnode);\n  }\n\n  view() {\n    const { draft, state } = this.attrs;\n\n    let scheduledDraftIcon = 'far fa-calendar-plus';\n    if (draft.scheduledValidationError()) scheduledDraftIcon = 'far fa-calendar-times';\n    else if (draft.scheduledFor()) scheduledDraftIcon = 'far fa-calendar-check';\n\n    return (\n      <li>\n        <a onclick={state.showComposer.bind(state, draft)} className=\"Notification draft--item\">\n          {/* Avatar */}\n          {avatar(draft.user())}\n\n          {/* Draft icon */}\n          {icon(draft.icon(), { className: 'Notification-icon' })}\n\n          {/* Draft title + last edited time */}\n          <span class=\"Notification-title\">\n            <span className=\"Notification-content\">\n              {draft.scheduledFor() && (\n                <Tooltip\n                  showOnFocus={false}\n                  text={app.translator.trans('fof-drafts.forum.dropdown.scheduled_icon_tooltip', {\n                    datetime: dayjs(draft.scheduledFor()).format(\n                      app.translator.trans('fof-drafts.forum.dropdown.scheduled_icon_tooltip_formatter')[0]\n                    ),\n                  })}\n                >\n                  {icon('far fa-clock', { className: 'draft--scheduledIcon' })}\n                </Tooltip>\n              )}\n              {draft.type() === 'reply' ? draft.loadRelationships().discussion.title() : draft.title()}\n            </span>\n            <span class=\"Notification-title-spring\" />\n            {humanTime(draft.updatedAt())}\n          </span>\n\n          <div class=\"Notification-action\">\n            {/* Delete draft icon */}\n            <Tooltip showOnFocus={false} text={app.translator.trans('fof-drafts.forum.dropdown.delete_button')}>\n              <Button\n                data-container=\"body\"\n                icon=\"fas fa-trash-alt\"\n                className=\"Notification-action Button Button--link hasIcon draft--delete\"\n                onclick={(e: MouseEvent) => {\n                  state.deleteDraft(draft);\n                  e.stopPropagation();\n                }}\n              />\n            </Tooltip>\n\n            {this.canSchedule ? (\n              <Tooltip showOnFocus={false} text={app.translator.trans('fof-drafts.forum.dropdown.schedule_button')}>\n                <Button\n                  data-container=\"body\"\n                  icon={scheduledDraftIcon}\n                  className=\"Notification-action Button Button--link hasIcon draft--schedule\"\n                  onclick={(e: MouseEvent) => {\n                    state.scheduleDraft(draft);\n                    e.stopPropagation();\n                  }}\n                />\n              </Tooltip>\n            ) : null}\n          </div>\n\n          <div className=\"Notification-excerpt\">{truncate(draft.content(), 200)}</div>\n          {draft.scheduledValidationError() ? <p className=\"scheduledValidationError\">{draft.scheduledValidationError()}</p> : ''}\n        </a>\n      </li>\n    );\n  }\n}\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Button from 'flarum/common/components/Button';\nimport DraftsListItem from './DraftsListItem';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class DraftsList extends Component {\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    $('.draft--delete').on('click tap', function (event) {\n      event.stopPropagation();\n    });\n  }\n\n  deleteAll() {\n    if (!confirm(app.translator.trans('fof-drafts.forum.dropdown.delete_all_alert'))) return;\n\n    app\n      .request({\n        method: 'DELETE',\n        url: app.forum.attribute('apiUrl') + '/drafts/all',\n      })\n      .then(() => {\n        app.store.data.drafts = [];\n        m.redraw();\n      });\n  }\n\n  view() {\n    const drafts = app.store.all('drafts');\n    const state = this.attrs.state;\n\n    return (\n      <div className=\"NotificationList DraftsList\">\n        <div className=\"NotificationList-header\">\n          <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('fof-drafts.forum.dropdown.title')}</h4>\n          <div class=\"App-primaryControl\">\n            <Tooltip showOnFocus={false} text={app.translator.trans('fof-drafts.forum.dropdown.delete_all_button')}>\n              <Button\n                data-container=\"body\"\n                icon=\"fas fa-trash-alt\"\n                className=\"Button Button--link Button--icon Alert-dismiss\"\n                onclick={this.deleteAll.bind(this)}\n              />\n            </Tooltip>\n          </div>\n        </div>\n        <div className=\"NotificationList-content\">\n          <ul className=\"NotificationGroup-content\">\n            {drafts.length\n              ? drafts\n                  .sort((a, b) => b.updatedAt() - a.updatedAt())\n                  .map((draft) => {\n                    return <DraftsListItem draft={draft} state={state} />;\n                  })\n              : null}\n\n            {state.loading ? (\n              <LoadingIndicator display=\"block\" />\n            ) : (\n              !drafts.length && <div className=\"NotificationList-empty\">{app.translator.trans('fof-drafts.forum.dropdown.empty_text')}</div>\n            )}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\n\nimport DraftsList from './DraftsList';\n\nexport default class DraftsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.history.push('drafts');\n\n    app.drafts.load();\n\n    this.bodyClass = 'App--drafts';\n  }\n\n  view() {\n    return (\n      <div className=\"DraftsPage\">\n        <DraftsList state={app.drafts}></DraftsList>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/HeaderSecondary'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/NotificationsDropdown'];","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport app from 'flarum/forum/app';\nimport NotificationsDropdown from 'flarum/common/components/NotificationsDropdown';\n\nimport DraftsList from './DraftsList';\n\nexport default class DraftsDropdown extends NotificationsDropdown {\n  static initAttrs(attrs) {\n    attrs.label = attrs.label || app.translator.trans('fof-drafts.forum.dropdown.tooltip');\n    attrs.icon = attrs.icon || 'fas fa-edit';\n\n    super.initAttrs(attrs);\n  }\n\n  getMenu() {\n    return (\n      <div className={'Dropdown-menu ' + this.attrs.menuClassName} onclick={this.menuClick.bind(this)}>\n        {this.showing ? DraftsList.component({ state: this.attrs.state }) : ''}\n      </div>\n    );\n  }\n\n  goToRoute() {\n    m.route.set(app.route('drafts'));\n  }\n\n  getUnreadCount() {\n    if (app.cache.draftsLoaded) {\n      return app.store.all('drafts').length;\n    }\n\n    return app.store.all('drafts').length + app.session.user.draftCount();\n  }\n\n  getNewCount() {\n    return this.getUnreadCount();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SettingsPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/Composer'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionComposer'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ReplyComposer'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/ComposerState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import app from 'flarum/forum/app';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Modal from 'flarum/common/components/Modal';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nconst CurrentDate = dayjs().format('YYYY-MM-DD');\nconst CurrentTime = dayjs().format('HH:mm');\n\nexport default class ScheduleDraftModal extends Modal {\n  loading = false;\n\n  date;\n  time;\n\n  previewFormatString;\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.date = this.isScheduled() ? dayjs(this.attrs.draft.scheduledFor()).format('YYYY-MM-DD') : CurrentDate;\n    this.time = this.isScheduled() ? dayjs(this.attrs.draft.scheduledFor()).format('HH:mm') : CurrentTime;\n\n    this.previewFormatString = app.translator.trans('fof-drafts.forum.schedule_draft_modal.schedule_time_preview_formatter')[0];\n  }\n\n  className() {\n    return 'ScheduleDraftModal';\n  }\n\n  title() {\n    return app.translator.trans('fof-drafts.forum.schedule_draft_modal.title');\n  }\n\n  content() {\n    if (this.loading) {\n      return <LoadingIndicator />;\n    }\n\n    return [\n      this.attrs.draft.scheduledFor() ? (\n        <div className=\"Modal-alert\">\n          <Alert type=\"success\" dismissible={false}>\n            {app.translator.trans('fof-drafts.forum.schedule_draft_modal.scheduled_text', {\n              datetime: this.formattedDateTime(),\n            })}\n          </Alert>\n        </div>\n      ) : (\n        ''\n      ),\n      this.attrs.draft.scheduledValidationError() ? (\n        <div className=\"Modal-alert\">\n          <Alert type=\"error\" dismissible={false}>\n            {app.translator.trans('fof-drafts.forum.schedule_draft_modal.scheduled_error', {\n              error: this.attrs.draft.scheduledValidationError(),\n            })}\n          </Alert>\n        </div>\n      ) : (\n        ''\n      ),\n\n      <input style=\"display: none\"></input>,\n\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <p className=\"helpText\">{app.translator.trans('fof-drafts.forum.schedule_draft_modal.text')}</p>\n          <div className=\"Form-group ScheduleDraftModal-timeDateGroup\">\n            <input\n              name=\"scheduledForDate\"\n              className=\"FormControl\"\n              type=\"date\"\n              min={CurrentDate}\n              value={this.date}\n              onchange={(e) => (this.date = e.target.value)}\n            />\n            <input name=\"scheduledForTime\" className=\"FormControl\" type=\"time\" value={this.time} onchange={(e) => (this.time = e.target.value)} />\n          </div>\n\n          {/* Date time preview */}\n          <div class=\"Form-group ScheduleDraftModal-datePreview\">\n            {app.translator.trans('fof-drafts.forum.schedule_draft_modal.schedule_time_preview', {\n              datetime: this.formattedDateTime(),\n            })}\n          </div>\n\n          <div className=\"Form-group ScheduleDraftModal-submitButtons\">\n            {/* Unschedule button */}\n            {this.isScheduled() && (\n              <Button\n                className=\"ScheduleDraftModal-unscheduleBtn Button Button--block Button--danger\"\n                loading={this.loading}\n                onclick={this.unschedule.bind(this)}\n              >\n                {app.translator.trans('fof-drafts.forum.schedule_draft_modal.unschedule_button')}\n              </Button>\n            )}\n\n            {/* Schedule/reschedule button */}\n            <Button\n              className=\"ScheduleDraftModal-scheduleBtn Button Button--block Button--primary\"\n              type=\"submit\"\n              loading={this.loading}\n              disabled={!this.changed()}\n            >\n              {this.isScheduled()\n                ? app.translator.trans('fof-drafts.forum.schedule_draft_modal.reschedule_button')\n                : app.translator.trans('fof-drafts.forum.schedule_draft_modal.schedule_button')}\n            </Button>\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  /**\n   * Returns a Date object for currently entered values in the modal.\n   */\n  scheduledFor() {\n    const date = new Date(`${this.date} ${this.time}`);\n\n    return date || null;\n  }\n\n  /**\n   * Whether the modal's details have been modified.\n   */\n  changed() {\n    const getTimeOrNull = (date) => (date ? date.getTime() || null : null);\n\n    return getTimeOrNull(this.scheduledFor()) !== getTimeOrNull(this.attrs.draft.scheduledFor());\n  }\n\n  isScheduled() {\n    return !!this.attrs.draft.scheduledFor();\n  }\n\n  formattedDateTime() {\n    const date = dayjs(this.scheduledFor());\n\n    // if (!date) {\n    //     return app.translator.trans('fof-drafts.forum.schedule_draft_modal.schedule_time_preview_invalid');\n    // }\n\n    const formatted = date.format(this.previewFormatString);\n\n    return formatted;\n  }\n\n  unschedule(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Save draft with no scheduled post time\n    if (confirm(app.translator.trans('fof-drafts.forum.schedule_draft_modal.unschedule_warning'))) {\n      this.attrs.draft\n        .save({ scheduledFor: null, clearValidationError: true, scheduledValidationError: '' })\n        .then(() => {\n          this.success = true;\n          this.hide.call(this);\n        })\n        .catch(() => {})\n        .then(this.loaded.bind(this));\n    }\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.draft\n      .save({ scheduledFor: this.scheduledFor(), clearValidationError: true, scheduledValidationError: '' })\n      .then(() => (this.success = true))\n      .catch(() => {})\n      .then(this.loaded.bind(this));\n  }\n}\n","import app from 'flarum/forum/app';\nimport DiscussionComposer from 'flarum/forum/components/DiscussionComposer';\nimport ReplyComposer from 'flarum/forum/components/ReplyComposer';\nimport ScheduleDraftModal from '../components/ScheduleDraftModal';\n\nexport default class DraftsListState {\n  constructor() {\n    /**\n     * Whether or not the flags are loading.\n     *\n     * @type {Boolean}\n     */\n    this.loading = false;\n\n    this.cache = [];\n  }\n\n  deleteDraft(draft) {\n    if (!window.confirm(app.translator.trans('fof-drafts.forum.dropdown.alert'))) return;\n\n    this.loading = true;\n\n    draft.delete().then(() => {\n      if (app.composer.body && app.composer.draft && app.composer.draft.id() === draft.id() && !app.composer.changed()) {\n        app.composer.hide();\n      }\n\n      this.loading = false;\n      m.redraw();\n    });\n  }\n\n  scheduleDraft(draft) {\n    if (!app.forum.attribute('canScheduleDrafts') || !app.forum.attribute('drafts.enableScheduledDrafts')) return;\n\n    app.modal.show(ScheduleDraftModal, { draft });\n  }\n\n  showComposer(draft) {\n    if (this.loading) return;\n\n    return new Promise((resolve) => {\n      let componentClass;\n\n      switch (draft.type()) {\n        case 'privateDiscussion':\n          componentClass = require('@fof-byobu').discussions['PrivateDiscussionComposer'];\n          break;\n        case 'reply':\n          componentClass = ReplyComposer;\n          break;\n        default:\n          componentClass = DiscussionComposer;\n      }\n\n      const data = draft.compileData();\n      app.composer.load(componentClass, data);\n\n      app.composer.show();\n\n      Object.assign(app.composer.fields, data.fields);\n\n      return resolve(app.composer);\n    });\n  }\n\n  load() {\n    if (app.cache.draftsLoaded) {\n      return;\n    }\n\n    this.loading = true;\n    m.redraw();\n\n    app.store\n      .find('drafts')\n      .then(\n        () => (app.cache.draftsLoaded = true),\n        () => {}\n      )\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","// Deep comparison function\nexport default function deepEqual(obj1, obj2) {\n  if (obj1 === obj2) {\n    return true;\n  }\n  if (typeof obj1 !== 'object' || typeof obj2 !== 'object' || obj1 == null || obj2 == null) {\n    return false;\n  }\n  let keys1 = Object.keys(obj1);\n  let keys2 = Object.keys(obj2);\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n  for (let key of keys1) {\n    if (!keys2.includes(key) || !deepEqual(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport DraftsDropdown from './DraftsDropdown';\nimport DraftsList from './DraftsList';\nimport DraftsListItem from './DraftsListItem';\nimport DraftsPage from './DraftsPage';\nimport ScheduleDraftModal from './ScheduleDraftModal';\n\nexport const components = {\n  DraftsDropdown: DraftsDropdown,\n  DraftsList: DraftsList,\n  DraftsListItem: DraftsListItem,\n  DraftsPage: DraftsPage,\n  ScheduleDraftModal: ScheduleDraftModal,\n};\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport Draft from './Draft';\n\nexport const models = {\n  Draft: Draft,\n};\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2021 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport DraftsListState from './DraftsListState';\n\nexport const states = {\n  DraftsListState: DraftsListState,\n};\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\nimport fillRelationship from './fillRelationship';\n\nexport const utils = {\n  fillRelationship: fillRelationship,\n};\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport { extend, override } from 'flarum/common/extend';\nimport User from 'flarum/common/models/User';\nimport Model from 'flarum/common/Model';\nimport Stream from 'flarum/common/utils/Stream';\nimport Draft from './models/Draft';\nimport DraftsPage from './components/DraftsPage';\nimport addDraftsDropdown from './addDraftsDropdown';\nimport addPreferences from './addPreferences';\nimport Composer from 'flarum/forum/components/Composer';\nimport DiscussionComposer from 'flarum/forum/components/DiscussionComposer';\nimport ReplyComposer from 'flarum/forum/components/ReplyComposer';\nimport Button from 'flarum/common/components/Button';\nimport ComposerState from 'flarum/forum/states/ComposerState';\nimport fillRelationship from './utils/fillRelationship';\nimport DraftsListState from './states/DraftsListState';\nimport app from 'flarum/forum/app';\nimport deepEqual from './utils/deepEqual';\n\nexport * from './components';\nexport * from './models';\nexport * from './states';\nexport * from './utils';\n\napp.initializers.add('fof-drafts', () => {\n  app.store.models.drafts = Draft;\n  User.prototype.drafts = Model.hasMany('drafts');\n  User.prototype.draftCount = Model.attribute('draftCount');\n\n  app.routes.drafts = { path: '/drafts', component: DraftsPage };\n\n  app.drafts = new DraftsListState(app);\n\n  ComposerState.prototype['changed'] = function () {\n    if (!this.body || !this.data) return false;\n\n    const data = this.data();\n    const draft = this.draft;\n\n    const fields = Object.keys(data).filter((element) => element !== 'relationships');\n\n    if (!fields) {\n      return false;\n    }\n\n    // If there's no content, we don't want to save this draft\n    // regardless of whether other attributes have changed.\n    if (!this.fields.content()) {\n      return false;\n    }\n\n    const getData = (field) => (field === 'content' ? this.fields.content() : data[field]) || '';\n\n    for (const field of fields) {\n      const fieldValue = getData(field);\n      const draftFieldValue = draft && draft.data.attributes[field];\n\n      if ((!draft && fieldValue) || (draft && !deepEqual(fieldValue, draftFieldValue))) {\n        return true;\n      }\n    }\n\n    if (!data.relationships && !draft.relationships()) {\n      return false;\n    }\n\n    const relationships = Object.keys(data.relationships);\n\n    const equalRelationships = (data, draft, relationship) => {\n      if (\n        (!data.relationships[relationship] || !data.relationships[relationship].length) &&\n        (!(relationship in draft.relationships()) || !draft.relationships()[relationship].data?.length)\n      ) {\n        return true;\n      } else if (\n        !(relationship in draft.relationships()) ||\n        data.relationships[relationship].length !== draft.relationships()[relationship].data?.length\n      ) {\n        return false;\n      }\n\n      const getId = (element) => (typeof element.id == 'function' ? element.id() : element.id);\n\n      const dataIds = fillRelationship(data.relationships[relationship], getId);\n      const draftIds = fillRelationship(draft.relationships()[relationship].data, getId);\n\n      return !dataIds.some((id, i) => id !== draftIds[i]);\n    };\n\n    for (const relationship of relationships) {\n      if (!draft) {\n        if (data.relationships[relationship]) {\n          return true;\n        }\n      } else {\n        if (!equalRelationships(data, draft, relationship)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  ComposerState.prototype['saveDraft'] = function () {\n    this.saving = true;\n    m.redraw();\n\n    const afterSave = () => {\n      this.saving = false;\n      this.justSaved = true;\n      setTimeout(() => {\n        this.justSaved = false;\n        m.redraw();\n      }, 300);\n      m.redraw();\n    };\n\n    const draft = this.draft;\n\n    if (draft && draft.id() && !draft.exists) {\n      // Draft was deleted before autosave, no need to save.\n      return;\n    }\n\n    if (draft) {\n      delete draft.data.attributes.relationships;\n\n      draft.save(Object.assign(draft.data.attributes, this.data())).then(() => afterSave());\n    } else {\n      app.store\n        .createRecord('drafts')\n        .save(this.data())\n        .then((draft) => {\n          draft.loadRelationships(true);\n          this.draft = draft;\n          afterSave();\n        });\n    }\n  };\n\n  extend(Composer.prototype, 'controlItems', function (items) {\n    if (\n      !(this.state.bodyMatches(DiscussionComposer) || this.state.bodyMatches(ReplyComposer)) ||\n      !app.forum.attribute('canSaveDrafts') ||\n      this.state.position === 'minimized'\n    )\n      return;\n\n    const classNames = ['Button', 'Button--icon', 'Button--link'];\n\n    if (this.state.saving) {\n      classNames.push('saving');\n    }\n\n    if (this.state.justSaved) {\n      classNames.push('justSaved');\n    }\n\n    items.add(\n      'save-draft',\n      Button.component({\n        icon: this.state.justSaved ? 'fas fa-check' : this.state.saving ? 'fas fa-spinner fa-spin' : 'fas fa-save',\n        className: classNames.join(' '),\n        itemClassName: 'App-backControl',\n        title: app.translator.trans('fof-drafts.forum.composer.title'),\n        disabled: this.state.saving || this.state.justSaved || this.loading,\n        onclick: this.state.saveDraft.bind(this.state),\n      }),\n      20\n    );\n  });\n\n  extend(ComposerState.prototype, 'load', function () {\n    if (!app.forum.attribute('canSaveDrafts')) return;\n\n    if (app.session.user.preferences().draftAutosaveEnable && (this.bodyMatches(DiscussionComposer) || this.bodyMatches(ReplyComposer))) {\n      this.autosaveInterval = setInterval(() => {\n        if (this.changed() && !this.saving && !this.loading) {\n          this.saveDraft();\n        }\n      }, 1000 * app.session.user.preferences().draftAutosaveInterval);\n    }\n  });\n\n  extend(ComposerState.prototype, 'clear', function () {\n    this.draft = null;\n    if (this.autosaveInterval) clearInterval(this.autosaveInterval);\n  });\n\n  override(ComposerState.prototype, 'preventExit', function (original) {\n    if (this.body && this.body.componentClass && this.draft) {\n      this.body.attrs.confirmExit = app.translator.trans('fof-drafts.forum.composer.exit_alert');\n    }\n\n    let prevented = false;\n    if (this.changed()) {\n      prevented = original();\n    }\n\n    if (prevented) return prevented;\n\n    if (!this.body || !this.body.componentClass) return;\n\n    const draft = this.draft;\n    if (draft && !draft.title() && !draft.content() && confirm(app.translator.trans('fof-drafts.forum.composer.discard_empty_draft_alert'))) {\n      draft.delete();\n    }\n\n    return prevented;\n  });\n\n  function initComposerBody() {\n    Object.keys(this.attrs).forEach((key) => {\n      if (!['originalContent', 'title', 'user'].includes(key)) {\n        this[key] = this.attrs[key];\n      } else if (key === 'title') {\n        this.title = Stream(this.attrs.title);\n      }\n    });\n\n    if (this.data) {\n      this.composer.data = this.data.bind(this);\n    }\n\n    if (this.attrs.draft) {\n      this.composer.draft = this.attrs.draft;\n    }\n  }\n\n  extend(DiscussionComposer.prototype, 'oninit', initComposerBody);\n  extend(ReplyComposer.prototype, 'oninit', initComposerBody);\n\n  function deleteDraftsOnSubmit() {\n    if (this.composer.draft) {\n      this.composer.draft.delete();\n    }\n  }\n\n  extend(DiscussionComposer.prototype, 'onsubmit', deleteDraftsOnSubmit);\n  extend(ReplyComposer.prototype, 'onsubmit', deleteDraftsOnSubmit);\n\n  if (app.initializers.has('fof-byobu')) {\n    const PrivateDiscussionComposer = flarum.extensions['fof-byobu'].discussions.PrivateDiscussionComposer;\n    extend(PrivateDiscussionComposer.prototype, 'onsubmit', deleteDraftsOnSubmit);\n  }\n\n  addDraftsDropdown();\n  addPreferences();\n});\n","/*\n *\n *  This file is part of fof/drafts.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport HeaderSecondary from 'flarum/common/components/HeaderSecondary';\nimport DraftsDropdown from './components/DraftsDropdown';\n\nexport default function () {\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    if (!app.session.user || !app.forum.attribute('canSaveDrafts')) return;\n\n    items.add('Drafts', <DraftsDropdown state={app.drafts} />, 20);\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport Button from 'flarum/common/components/Button';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport SettingsPage from 'flarum/common/components/SettingsPage';\nimport Switch from 'flarum/common/components/Switch';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default function () {\n  extend(SettingsPage.prototype, 'oninit', function () {\n    this.draftAutosaveInterval = Stream(this.user.preferences().draftAutosaveInterval);\n  });\n\n  extend(SettingsPage.prototype, 'settingsItems', function (items) {\n    if (app.forum.data.attributes.canSaveDrafts) {\n      items.add(\n        'drafts',\n        FieldSet.component(\n          {\n            label: app.translator.trans('fof-drafts.forum.user.settings.drafts_heading'),\n            className: 'Settings-drafts',\n          },\n          this.draftsItems().toArray()\n        )\n      );\n    }\n  });\n\n  SettingsPage.prototype['draftsItems'] = function () {\n    const items = new ItemList();\n\n    items.add(\n      'draft-autosave-enable',\n      Switch.component(\n        {\n          state: this.user.preferences().draftAutosaveEnable,\n          onchange: (value) => {\n            this.draftAutosaveEnableLoading = true;\n\n            this.user.savePreferences({ draftAutosaveEnable: value }).then(() => {\n              this.draftAutosaveEnableLoading = false;\n              m.redraw();\n            });\n          },\n          loading: this.draftAutosaveEnableLoading,\n        },\n        app.translator.trans('fof-drafts.forum.user.settings.draft_autosave_enable')\n      )\n    );\n\n    items.add(\n      'draft-autosave-interval',\n      this.user.preferences().draftAutosaveEnable ? (\n        <label>\n          <p>{app.translator.trans('fof-drafts.forum.user.settings.draft_autosave_interval_label')}</p>\n          <input className=\"FormControl\" type=\"number\" min=\"0\" bidi={this.draftAutosaveInterval} />\n          {Button.component(\n            {\n              className: 'Button Button--primary',\n              onclick: () => {\n                const isInt = (str) => str == Math.round(str);\n                if (this.draftAutosaveInterval() < 0 || !isInt(this.draftAutosaveInterval())) {\n                  this.draftAutosaveIntervalInvalid = true;\n                  this.draftAutosaveInterval(this.user.preferences().draftAutosaveInterval);\n                  m.redraw();\n                } else {\n                  this.draftAutosaveIntervalInvalid = false;\n                  this.user.savePreferences({ draftAutosaveInterval: this.draftAutosaveInterval() }).then(() => {\n                    m.redraw();\n                  });\n                }\n              },\n            },\n            app.translator.trans('fof-drafts.forum.user.settings.draft_autosave_interval_button')\n          )}\n          {this.draftAutosaveIntervalInvalid ? (\n            <p class=\"invalidInterval\">\n              <small>{app.translator.trans('fof-drafts.forum.user.settings.draft_autosave_interval_invalid')}</small>\n            </p>\n          ) : (\n            ''\n          )}\n        </label>\n      ) : (\n        <p></p>\n      )\n    );\n\n    return items;\n  };\n}\n"],"names":["module","exports","e","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","t","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","flarum","extensions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","getter","__esModule","definition","key","Object","defineProperty","enumerable","obj","prop","hasOwnProperty","Symbol","toStringTag","value","core","compat","_setPrototypeOf","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","data","map","isArray","sort","Draft","_mixin","mixin","Model","user","content","title","scheduledValidationError","relationships","extra","scheduledFor","updatedAt","loadedRelationships","type","loadRelationships","discussion","discussions","icon","app","attributes","force","_this","keys","relationshipName","relationship","fillRelationship","model","getById","id","recipients","ItemList","group","compileData","originalContent","confirmExit","trans","draft","fields","assign","DraftsListItem","_Component","_len","_key","concat","canSchedule","attribute","_proto","oncreate","vnode","view","_this$attrs","attrs","state","scheduledDraftIcon","onclick","showComposer","className","avatar","class","Tooltip","showOnFocus","text","datetime","dayjs","humanTime","Button","deleteDraft","stopPropagation","scheduleDraft","truncate","Component","DraftsList","on","event","deleteAll","confirm","method","url","then","drafts","redraw","all","loading","LoadingIndicator","display","DraftsPage","_Page","oninit","push","load","bodyClass","Page","DraftsDropdown","_NotificationsDropdow","initAttrs","label","getMenu","menuClassName","menuClick","showing","component","goToRoute","route","getUnreadCount","draftsLoaded","draftCount","getNewCount","NotificationsDropdown","CurrentDate","CurrentTime","ScheduleDraftModal","_Modal","time","previewFormatString","isScheduled","_this2","Alert","dismissible","formattedDateTime","error","style","onchange","target","unschedule","disabled","changed","getTimeOrNull","_this3","preventDefault","save","clearValidationError","success","hide","loaded","onsubmit","_this4","Modal","DraftsListState","cache","window","body","show","Promise","resolve","componentClass","require","ReplyComposer","DiscussionComposer","find","deepEqual","obj1","obj2","keys1","keys2","_i","_keys","includes","components","models","states","utils","initComposerBody","Stream","composer","deleteDraftsOnSubmit","User","path","ComposerState","filter","element","_step","getData","field","_iterator","_createForOfIteratorHelperLoose","done","fieldValue","draftFieldValue","equalRelationships","_draft$relationships$","_draft$relationships$2","getId","dataIds","draftIds","some","_relationships","saving","afterSave","justSaved","setTimeout","exists","createRecord","Composer","items","bodyMatches","position","classNames","itemClassName","saveDraft","preferences","draftAutosaveEnable","autosaveInterval","setInterval","draftAutosaveInterval","clearInterval","override","original","prevented","has","PrivateDiscussionComposer","HeaderSecondary","SettingsPage","canSaveDrafts","FieldSet","draftsItems","toArray","Switch","draftAutosaveEnableLoading","savePreferences","bidi","str","draftAutosaveIntervalInvalid"],"sourceRoot":""}